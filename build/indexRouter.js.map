{"version":3,"sources":["../src/indexRouter.js"],"names":["dotenv","config","router","express","Router","use","oAuthRouter","req","res","isAuthenticated","render","redirect","get","graphqlHttp"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEAA,iBAAOC,MAAP;;AAEA,MAAMC,SAASC,kBAAQC,MAAR,EAAf;;AAEAF,OAAOG,GAAP,CAAW,QAAX,EAAqBC,gBAArB;;AAEAJ,OAAOG,GAAP,CAAW,YAAX,EAAyB,CAACE,GAAD,EAAMC,GAAN,KAAc;AACnC,QAAG,CAACD,IAAIE,eAAJ,EAAJ,EAA0B;AACtBD,YAAIE,MAAJ,CAAW,QAAX;AACH;AACDF,QAAIG,QAAJ,CAAa,YAAb;AAEH,CAND;;AASAT,OAAOU,GAAP,CAAW,QAAX,EAAqB,CAACL,GAAD,EAAMC,GAAN,KAAc;AAC/B,QAAID,IAAIE,eAAJ,EAAJ,EAA2B;AACvBD,YAAIG,QAAJ,CAAa,YAAb;AACH;AACDH,QAAIE,MAAJ,CAAW,OAAX;AACH,CALD;;AAOAR,OAAOG,GAAP,CAAW,UAAX,EAAuBQ,2BAAvB;;kBAEeX,M","file":"indexRouter.js","sourcesContent":["import express from 'express';\nimport graphqlHttp from './graphql/init-graphql-server'\nimport oAuthRouter from './oauth/router';\nimport fs from 'fs'\nimport path from 'path'\nimport dotenv from 'dotenv'\n\ndotenv.config();\n\nconst router = express.Router();\n\nrouter.use('/oauth', oAuthRouter);\n\nrouter.use('/dashboard', (req, res) => {\n    if(!req.isAuthenticated()){\n        res.render('/login');\n    }\n    res.redirect('/dashboard');\n    \n});\n\n\nrouter.get('/login', (req, res) => {\n    if (req.isAuthenticated()) {\n        res.redirect('/dashboard');\n    }\n    res.render('login');\n});\n\nrouter.use('/graphql', graphqlHttp);\n\nexport default router;"]}