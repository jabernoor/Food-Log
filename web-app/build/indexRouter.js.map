{"version":3,"sources":["../src/indexRouter.js"],"names":["router","express","Router","use","oAuthRouter","req","res","isAuthenticated","redirect","render","data","isLoggedIn","user","get"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,MAAMA,SAASC,kBAAQC,MAAR,EAAf;;AAEAF,OAAOG,GAAP,CAAW,QAAX,EAAqBC,gBAArB;;AAEAJ,OAAOG,GAAP,CAAW,YAAX,EAAyB,CAACE,GAAD,EAAMC,GAAN,KAAc;AACnC,QAAG,CAACD,IAAIE,eAAJ,EAAJ,EAA0B;AACtB,eAAOD,IAAIE,QAAJ,CAAa,QAAb,CAAP;AACH;AACD,WAAOF,IAAIG,MAAJ,CAAW,WAAX,EAAuB,EAACC,MAAK,EAACC,YAAW,IAAZ,EAAiBC,MAAKP,IAAIO,IAA1B,EAAN,EAAvB,CAAP;AACH,CALD;;AAOAZ,OAAOG,GAAP,CAAW,SAAX,EAAsB,CAACE,GAAD,EAAMC,GAAN,KAAc;AAChC,QAAG,CAACD,IAAIE,eAAJ,EAAJ,EAA0B;AACtB,eAAOD,IAAIE,QAAJ,CAAa,QAAb,CAAP;AACH;AACD,WAAOF,IAAIG,MAAJ,CAAW,QAAX,EAAoB,EAACC,MAAK,EAACC,YAAW,IAAZ,EAAN,EAApB,CAAP;AACH,CALD;;AAOAX,OAAOa,GAAP,CAAW,QAAX,EAAqB,CAACR,GAAD,EAAMC,GAAN,KAAc;AAC/B,QAAID,IAAIE,eAAJ,EAAJ,EAA2B;AACvB,eAAOD,IAAIE,QAAJ,CAAa,YAAb,CAAP;AACH;AACD,WAAOF,IAAIG,MAAJ,CAAW,OAAX,EAAmB,EAACC,MAAK,EAACC,YAAW,KAAZ,EAAN,EAAnB,CAAP;AACH,CALD;;kBAOeX,M","file":"indexRouter.js","sourcesContent":["import express from 'express';\nimport oAuthRouter from './oauth/router';\nimport fs from 'fs'\nimport path from 'path'\n\nconst router = express.Router();\n\nrouter.use('/oauth', oAuthRouter);\n\nrouter.use('/dashboard', (req, res) => {\n    if(!req.isAuthenticated()){\n        return res.redirect('/login');\n    }\n    return res.render('dashboard',{data:{isLoggedIn:true,user:req.user}});\n});\n\nrouter.use('/orders', (req, res) => {\n    if(!req.isAuthenticated()){\n        return res.redirect('/login');\n    }\n    return res.render('orders',{data:{isLoggedIn:true}});\n});\n\nrouter.get('/login', (req, res) => {\n    if (req.isAuthenticated()) {\n        return res.redirect('/dashboard');\n    }\n    return res.render('login',{data:{isLoggedIn:false}});\n});\n\nexport default router;"]}